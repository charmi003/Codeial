$(".fa-minus-circle").click((function(e){"356px"==$("#chat-messages-container").css("height")?$("#chat-messages-container").css("height","58px"):$("#chat-messages-container").css("height","356px"),$("#chatbox-container").toggleClass("small large")}));class chatEngine{constructor(e,s,t){this.chatBox=$("#"+e),this.userEmail=s,this.userName=t,this.socket=io("http://localhost:5000",{transports:["websocket","polling","flashsocket"]}),this.userEmail&&this.connectionHandler()}connectionHandler(){let e=this;this.socket.on("connect",(function(){console.log("Web socket connection established!!"),e.socket.emit("join_room",{user_email:e.userEmail,user_name:e.userName,chat_room:"Codeial"}),e.socket.on("user_joined",(function(e){console.log(`${e.user_email} has joined the chat room ${e.chat_room}!`)}))})),$("#send-message-form").on("submit",(function(s){s.preventDefault();let t=$(s.target).find("#Message").val();t&&(e.socket.emit("send_message",{message:t,user_email:e.userEmail,user_name:e.userName,chat_room:"Codeial"}),$(s.target).find("#Message").val(""))})),e.socket.on("receive_message",(function(s){$("#typing-status").html("");let t="other-message";e.userEmail==s.user_email&&(t="self-message");let a=$(`<li class=${t}>\n                <small>${s.user_name}</small><br>\n                <span>${s.message}</span>\n            </li>`);$("#chat-messages-list").append(a),a[0].scrollIntoView()})),$("input[id='Message']").on("keypress",(function(s){e.socket.emit("typing",{user_email:e.userEmail,user_name:e.userName,chat_room:"Codeial"})})),e.socket.on("typing",(function(e){$("#typing-status").html(e.user_name+" is typing...")}))}}